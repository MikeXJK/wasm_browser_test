<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>浏览器 VS WASM 测试01</title>
  <style>
      h1 {
          color: red;
          text-align: center;
      }
  </style>
</head>
<body>
    
    <h1 id="header">
    </h1>
<script>
var wasmCode = new Uint8Array([0,97,115,109,1,0,0,0,1,135,128,128,128,0,1,96,2,127,127,1,127,3,130,128,128,128,0,1,0,4,132,128,128,128,0,1,112,0,0,5,131,128,128,128,0,1,0,1,6,129,128,128,128,0,0,7,144,128,128,128,0,2,6,109,101,109,111,114,121,2,0,3,97,100,100,0,0,10,141,128,128,128,0,1,135,128,128,128,0,0,32,1,32,0,106,11]);

var wasmModule = new WebAssembly.Module( wasmCode );
var wasmInstance = new WebAssembly.Instance( wasmModule );
const addWasm = wasmInstance.exports.add;

const result = addWasm( 4, 6 );
    
document.getElementById('header').innerHTML = `四 加 六 等于 ${result}`;

    

    /*
let addInJS;
    
async function getFuncInWasm() {
    const response = await fetch( 'test.wasm' );
    const bytes = await response.arrayBuffer();
    const result = await WebAssembly.instantiate( bytes );
    addInJS = result.instance.exports.add;
}

getFuncInWasm();
    
*/

</script>
</body>
</html>